{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  globalThis.prisma ??\r\n  new PrismaClient({\r\n    log: [\"error\", \"warn\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAOO,MAAM,SACX,WAAW,MAAM,IACjB,IAAI,gPAAY,CAAC;IACf,KAAK;QAAC;QAAS;KAAO;AACxB;AAEF,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/app/api/kliente/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/prisma\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET() {\r\n  const rows = await prisma.klient.findMany({\r\n    orderBy: { klientId: \"desc\" },\r\n  });\r\n\r\n  const data = rows.map((k) => ({\r\n    ...k,\r\n    klientId: k.klientId.toString(),\r\n    dataRegjistrimit: k.dataRegjistrimit.toISOString(),\r\n  }));\r\n\r\n  return NextResponse.json(data);\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  const body = await req.json().catch(() => ({}));\r\n\r\n  const emri = String(body?.emri ?? \"\").trim();\r\n  if (!emri) {\r\n    return NextResponse.json({ error: \"Emri është i detyrueshëm\" }, { status: 400 });\r\n  }\r\n\r\n  const klient = await prisma.klient.create({\r\n    data: {\r\n      emri,\r\n      mbiemri: body?.mbiemri ? String(body.mbiemri).trim() : null,\r\n      telefoni: body?.telefoni ? String(body.telefoni).trim() : null,\r\n      email: body?.email ? String(body.email).trim() : null,\r\n      adresa: body?.adresa ? String(body.adresa).trim() : null,\r\n    },\r\n  });\r\n\r\n  return NextResponse.json({ ok: true, klientId: klient.klientId.toString() });\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM,0KAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;QACxC,SAAS;YAAE,UAAU;QAAO;IAC9B;IAEA,MAAM,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;YAC5B,GAAG,CAAC;YACJ,UAAU,EAAE,QAAQ,CAAC,QAAQ;YAC7B,kBAAkB,EAAE,gBAAgB,CAAC,WAAW;QAClD,CAAC;IAED,OAAO,0LAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAE7C,MAAM,OAAO,OAAO,MAAM,QAAQ,IAAI,IAAI;IAC1C,IAAI,CAAC,MAAM;QACT,OAAO,0LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAChF;IAEA,MAAM,SAAS,MAAM,0KAAM,CAAC,MAAM,CAAC,MAAM,CAAC;QACxC,MAAM;YACJ;YACA,SAAS,MAAM,UAAU,OAAO,KAAK,OAAO,EAAE,IAAI,KAAK;YACvD,UAAU,MAAM,WAAW,OAAO,KAAK,QAAQ,EAAE,IAAI,KAAK;YAC1D,OAAO,MAAM,QAAQ,OAAO,KAAK,KAAK,EAAE,IAAI,KAAK;YACjD,QAAQ,MAAM,SAAS,OAAO,KAAK,MAAM,EAAE,IAAI,KAAK;QACtD;IACF;IAEA,OAAO,0LAAY,CAAC,IAAI,CAAC;QAAE,IAAI;QAAM,UAAU,OAAO,QAAQ,CAAC,QAAQ;IAAG;AAC5E"}}]
}