{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/app/furnizues/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\ntype Furnizues = {\r\n  furnizuesId: string;\r\n  emri: string;\r\n  telefoni: string;\r\n  email: string;\r\n  adresa: string;\r\n};\r\n\r\nexport default function FurnizuesPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  const [items, setItems] = useState<Furnizues[]>([]);\r\n\r\n  const [emri, setEmri] = useState(\"\");\r\n  const [telefoni, setTelefoni] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [adresa, setAdresa] = useState(\"\");\r\n\r\n  const [q, setQ] = useState(\"\");\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    setErr(null);\r\n    const res = await fetch(\"/api/furnizues\", { cache: \"no-store\" });\r\n    const d = await res.json().catch(() => null);\r\n\r\n    if (!res.ok || !Array.isArray(d)) {\r\n      setErr(d?.error ?? \"Gabim\");\r\n      setItems([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setItems(d);\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  async function createOne(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setErr(null);\r\n\r\n    const res = await fetch(\"/api/furnizues\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ emri, telefoni, email, adresa }),\r\n    });\r\n\r\n    const d = await res.json().catch(() => ({}));\r\n    if (!res.ok) {\r\n      setErr(d?.error ?? \"Gabim gjatë krijimit\");\r\n      return;\r\n    }\r\n\r\n    setEmri(\"\");\r\n    setTelefoni(\"\");\r\n    setEmail(\"\");\r\n    setAdresa(\"\");\r\n    await load();\r\n  }\r\n\r\n  async function saveRow(row: Furnizues) {\r\n    setErr(null);\r\n    const res = await fetch(`/api/furnizues/${row.furnizuesId}`, {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        emri: row.emri,\r\n        telefoni: row.telefoni,\r\n        email: row.email,\r\n        adresa: row.adresa,\r\n      }),\r\n    });\r\n\r\n    const d = await res.json().catch(() => ({}));\r\n    if (!res.ok) {\r\n      setErr(d?.error ?? \"Gabim gjatë ruajtjes\");\r\n      return;\r\n    }\r\n    await load();\r\n  }\r\n\r\n  async function deleteRow(id: string) {\r\n    if (!confirm(\"A je i sigurt që do ta fshish furnizuesin?\")) return;\r\n\r\n    setErr(null);\r\n    const res = await fetch(`/api/furnizues/${id}`, { method: \"DELETE\" });\r\n    const d = await res.json().catch(() => ({}));\r\n    if (!res.ok) {\r\n      setErr(d?.error ?? \"Gabim gjatë fshirjes\");\r\n      return;\r\n    }\r\n    await load();\r\n  }\r\n\r\n  const filtered = useMemo(() => {\r\n    const s = q.trim().toLowerCase();\r\n    if (!s) return items;\r\n    return items.filter((x) => {\r\n      return (\r\n        x.emri.toLowerCase().includes(s) ||\r\n        (x.telefoni || \"\").toLowerCase().includes(s) ||\r\n        (x.email || \"\").toLowerCase().includes(s) ||\r\n        (x.adresa || \"\").toLowerCase().includes(s)\r\n      );\r\n    });\r\n  }, [items, q]);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"max-w-5xl border rounded-2xl bg-white p-5\">\r\n        <div className=\"flex items-start justify-between gap-4\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold\">Furnizues</h1>\r\n            <p className=\"text-sm text-gray-600\">Shto, kërko dhe menaxho furnizuesit.</p>\r\n          </div>\r\n        </div>\r\n\r\n        {err ? (\r\n          <div className=\"mt-3 rounded-lg border border-red-200 bg-red-50 p-3 text-red-700 text-sm\">\r\n            {err}\r\n          </div>\r\n        ) : null}\r\n\r\n        <div className=\"mt-5 grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n          <form onSubmit={createOne} className=\"border rounded-xl p-4\">\r\n            <div className=\"font-semibold mb-3\">Shto furnizues</div>\r\n\r\n            <div className=\"grid gap-2\">\r\n              <input\r\n                className=\"border rounded-lg px-3 py-2\"\r\n                placeholder=\"Emri *\"\r\n                value={emri}\r\n                onChange={(e) => setEmri(e.target.value)}\r\n              />\r\n              <input\r\n                className=\"border rounded-lg px-3 py-2\"\r\n                placeholder=\"Telefoni\"\r\n                value={telefoni}\r\n                onChange={(e) => setTelefoni(e.target.value)}\r\n              />\r\n              <input\r\n                className=\"border rounded-lg px-3 py-2\"\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              <input\r\n                className=\"border rounded-lg px-3 py-2\"\r\n                placeholder=\"Adresa\"\r\n                value={adresa}\r\n                onChange={(e) => setAdresa(e.target.value)}\r\n              />\r\n\r\n              <button className=\"mt-2 bg-black text-white rounded-lg px-3 py-2\">\r\n                Ruaj\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"border rounded-xl p-4\">\r\n            <div className=\"font-semibold mb-3\">Kërko</div>\r\n            <input\r\n              className=\"border rounded-lg px-3 py-2 w-full\"\r\n              placeholder=\"Kërko (emër/telefon/email/adresë)…\"\r\n              value={q}\r\n              onChange={(e) => setQ(e.target.value)}\r\n            />\r\n\r\n            <div className=\"text-xs text-gray-600 mt-2\">\r\n              Totali: {filtered.length} furnizues\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-5 border rounded-xl overflow-hidden\">\r\n          <div className=\"px-4 py-3 font-semibold border-b\">Lista</div>\r\n\r\n          {loading ? (\r\n            <div className=\"p-4 text-sm text-gray-600\">Duke ngarkuar…</div>\r\n          ) : filtered.length === 0 ? (\r\n            <div className=\"p-4 text-sm text-gray-600\">S’ka furnizues.</div>\r\n          ) : (\r\n            <div className=\"overflow-auto\">\r\n              <table className=\"w-full text-sm\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"text-left p-3 border-b\">Emri</th>\r\n                    <th className=\"text-left p-3 border-b\">Telefoni</th>\r\n                    <th className=\"text-left p-3 border-b\">Email</th>\r\n                    <th className=\"text-left p-3 border-b\">Adresa</th>\r\n                    <th className=\"text-right p-3 border-b\">Veprime</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filtered.map((r) => (\r\n                    <Row key={r.furnizuesId} r={r} onSave={saveRow} onDelete={deleteRow} />\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Row({\r\n  r,\r\n  onSave,\r\n  onDelete,\r\n}: {\r\n  r: Furnizues;\r\n  onSave: (row: Furnizues) => void;\r\n  onDelete: (id: string) => void;\r\n}) {\r\n  const [edit, setEdit] = useState(false);\r\n  const [row, setRow] = useState<Furnizues>(r);\r\n\r\n  useEffect(() => setRow(r), [r]);\r\n\r\n  return (\r\n    <tr className=\"border-b\">\r\n      <td className=\"p-3\">\r\n        {edit ? (\r\n          <input\r\n            className=\"border rounded px-2 py-1 w-full\"\r\n            value={row.emri}\r\n            onChange={(e) => setRow({ ...row, emri: e.target.value })}\r\n          />\r\n        ) : (\r\n          row.emri\r\n        )}\r\n      </td>\r\n\r\n      <td className=\"p-3\">\r\n        {edit ? (\r\n          <input\r\n            className=\"border rounded px-2 py-1 w-full\"\r\n            value={row.telefoni}\r\n            onChange={(e) => setRow({ ...row, telefoni: e.target.value })}\r\n          />\r\n        ) : (\r\n          row.telefoni || \"-\"\r\n        )}\r\n      </td>\r\n\r\n      <td className=\"p-3\">\r\n        {edit ? (\r\n          <input\r\n            className=\"border rounded px-2 py-1 w-full\"\r\n            value={row.email}\r\n            onChange={(e) => setRow({ ...row, email: e.target.value })}\r\n          />\r\n        ) : (\r\n          row.email || \"-\"\r\n        )}\r\n      </td>\r\n\r\n      <td className=\"p-3\">\r\n        {edit ? (\r\n          <input\r\n            className=\"border rounded px-2 py-1 w-full\"\r\n            value={row.adresa}\r\n            onChange={(e) => setRow({ ...row, adresa: e.target.value })}\r\n          />\r\n        ) : (\r\n          row.adresa || \"-\"\r\n        )}\r\n      </td>\r\n\r\n      <td className=\"p-3 text-right\">\r\n        {edit ? (\r\n          <div className=\"flex justify-end gap-2\">\r\n            <button\r\n              className=\"border rounded px-3 py-1\"\r\n              onClick={() => {\r\n                setEdit(false);\r\n                setRow(r);\r\n              }}\r\n              type=\"button\"\r\n            >\r\n              Anulo\r\n            </button>\r\n            <button\r\n              className=\"bg-black text-white rounded px-3 py-1\"\r\n              onClick={() => {\r\n                onSave(row);\r\n                setEdit(false);\r\n              }}\r\n              type=\"button\"\r\n            >\r\n              Ruaj\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex justify-end gap-2\">\r\n            <button className=\"border rounded px-3 py-1\" onClick={() => setEdit(true)} type=\"button\">\r\n              Edit\r\n            </button>\r\n            <button className=\"border rounded px-3 py-1\" onClick={() => onDelete(r.furnizuesId)} type=\"button\">\r\n              Fshi\r\n            </button>\r\n          </div>\r\n        )}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2PAAQ,EAAC;IACvC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,2PAAQ,EAAgB;IAE9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2PAAQ,EAAc,EAAE;IAElD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2PAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2PAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2PAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,2PAAQ,EAAC;IAErC,MAAM,CAAC,GAAG,KAAK,GAAG,IAAA,2PAAQ,EAAC;IAE3B,eAAe;QACb,WAAW;QACX,OAAO;QACP,MAAM,MAAM,MAAM,MAAM,kBAAkB;YAAE,OAAO;QAAW;QAC9D,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAEvC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,OAAO,CAAC,IAAI;YAChC,OAAO,GAAG,SAAS;YACnB,SAAS,EAAE;YACX,WAAW;YACX;QACF;QAEA,SAAS;QACT,WAAW;IACb;IAEA,IAAA,4PAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe,UAAU,CAAkB;QACzC,EAAE,cAAc;QAChB,OAAO;QAEP,MAAM,MAAM,MAAM,MAAM,kBAAkB;YACxC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM;gBAAU;gBAAO;YAAO;QACvD;QAEA,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,OAAO,GAAG,SAAS;YACnB;QACF;QAEA,QAAQ;QACR,YAAY;QACZ,SAAS;QACT,UAAU;QACV,MAAM;IACR;IAEA,eAAe,QAAQ,GAAc;QACnC,OAAO;QACP,MAAM,MAAM,MAAM,MAAM,CAAC,eAAe,EAAE,IAAI,WAAW,EAAE,EAAE;YAC3D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,MAAM,IAAI,IAAI;gBACd,UAAU,IAAI,QAAQ;gBACtB,OAAO,IAAI,KAAK;gBAChB,QAAQ,IAAI,MAAM;YACpB;QACF;QAEA,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,OAAO,GAAG,SAAS;YACnB;QACF;QACA,MAAM;IACR;IAEA,eAAe,UAAU,EAAU;QACjC,IAAI,CAAC,QAAQ,+CAA+C;QAE5D,OAAO;QACP,MAAM,MAAM,MAAM,MAAM,CAAC,eAAe,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;QACnE,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,OAAO,GAAG,SAAS;YACnB;QACF;QACA,MAAM;IACR;IAEA,MAAM,WAAW,IAAA,0PAAO,EAAC;QACvB,MAAM,IAAI,EAAE,IAAI,GAAG,WAAW;QAC9B,IAAI,CAAC,GAAG,OAAO;QACf,OAAO,MAAM,MAAM,CAAC,CAAC;YACnB,OACE,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,MAC9B,CAAC,EAAE,QAAQ,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,MAC1C,CAAC,EAAE,KAAK,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,MACvC,CAAC,EAAE,MAAM,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC;QAE5C;IACF,GAAG;QAAC;QAAO;KAAE;IAEb,qBACE,wRAAC;QAAI,WAAU;kBACb,cAAA,wRAAC;YAAI,WAAU;;8BACb,wRAAC;oBAAI,WAAU;8BACb,cAAA,wRAAC;;0CACC,wRAAC;gCAAG,WAAU;0CAAyB;;;;;;0CACvC,wRAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;gBAIxC,oBACC,wRAAC;oBAAI,WAAU;8BACZ;;;;;2BAED;8BAEJ,wRAAC;oBAAI,WAAU;;sCACb,wRAAC;4BAAK,UAAU;4BAAW,WAAU;;8CACnC,wRAAC;oCAAI,WAAU;8CAAqB;;;;;;8CAEpC,wRAAC;oCAAI,WAAU;;sDACb,wRAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;sDAEzC,wRAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE7C,wRAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE1C,wRAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;sDAG3C,wRAAC;4CAAO,WAAU;sDAAgD;;;;;;;;;;;;;;;;;;sCAMtE,wRAAC;4BAAI,WAAU;;8CACb,wRAAC;oCAAI,WAAU;8CAAqB;;;;;;8CACpC,wRAAC;oCACC,WAAU;oCACV,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,KAAK,EAAE,MAAM,CAAC,KAAK;;;;;;8CAGtC,wRAAC;oCAAI,WAAU;;wCAA6B;wCACjC,SAAS,MAAM;wCAAC;;;;;;;;;;;;;;;;;;;8BAK/B,wRAAC;oBAAI,WAAU;;sCACb,wRAAC;4BAAI,WAAU;sCAAmC;;;;;;wBAEjD,wBACC,wRAAC;4BAAI,WAAU;sCAA4B;;;;;mCACzC,SAAS,MAAM,KAAK,kBACtB,wRAAC;4BAAI,WAAU;sCAA4B;;;;;iDAE3C,wRAAC;4BAAI,WAAU;sCACb,cAAA,wRAAC;gCAAM,WAAU;;kDACf,wRAAC;wCAAM,WAAU;kDACf,cAAA,wRAAC;;8DACC,wRAAC;oDAAG,WAAU;8DAAyB;;;;;;8DACvC,wRAAC;oDAAG,WAAU;8DAAyB;;;;;;8DACvC,wRAAC;oDAAG,WAAU;8DAAyB;;;;;;8DACvC,wRAAC;oDAAG,WAAU;8DAAyB;;;;;;8DACvC,wRAAC;oDAAG,WAAU;8DAA0B;;;;;;;;;;;;;;;;;kDAG5C,wRAAC;kDACE,SAAS,GAAG,CAAC,CAAC,kBACb,wRAAC;gDAAwB,GAAG;gDAAG,QAAQ;gDAAS,UAAU;+CAAhD,EAAE,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU3C;AAEA,SAAS,IAAI,EACX,CAAC,EACD,MAAM,EACN,QAAQ,EAKT;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2PAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,2PAAQ,EAAY;IAE1C,IAAA,4PAAS,EAAC,IAAM,OAAO,IAAI;QAAC;KAAE;IAE9B,qBACE,wRAAC;QAAG,WAAU;;0BACZ,wRAAC;gBAAG,WAAU;0BACX,qBACC,wRAAC;oBACC,WAAU;oBACV,OAAO,IAAI,IAAI;oBACf,UAAU,CAAC,IAAM,OAAO;4BAAE,GAAG,GAAG;4BAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wBAAC;;;;;2BAGzD,IAAI,IAAI;;;;;;0BAIZ,wRAAC;gBAAG,WAAU;0BACX,qBACC,wRAAC;oBACC,WAAU;oBACV,OAAO,IAAI,QAAQ;oBACnB,UAAU,CAAC,IAAM,OAAO;4BAAE,GAAG,GAAG;4BAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wBAAC;;;;;2BAG7D,IAAI,QAAQ,IAAI;;;;;;0BAIpB,wRAAC;gBAAG,WAAU;0BACX,qBACC,wRAAC;oBACC,WAAU;oBACV,OAAO,IAAI,KAAK;oBAChB,UAAU,CAAC,IAAM,OAAO;4BAAE,GAAG,GAAG;4BAAE,OAAO,EAAE,MAAM,CAAC,KAAK;wBAAC;;;;;2BAG1D,IAAI,KAAK,IAAI;;;;;;0BAIjB,wRAAC;gBAAG,WAAU;0BACX,qBACC,wRAAC;oBACC,WAAU;oBACV,OAAO,IAAI,MAAM;oBACjB,UAAU,CAAC,IAAM,OAAO;4BAAE,GAAG,GAAG;4BAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAC;;;;;2BAG3D,IAAI,MAAM,IAAI;;;;;;0BAIlB,wRAAC;gBAAG,WAAU;0BACX,qBACC,wRAAC;oBAAI,WAAU;;sCACb,wRAAC;4BACC,WAAU;4BACV,SAAS;gCACP,QAAQ;gCACR,OAAO;4BACT;4BACA,MAAK;sCACN;;;;;;sCAGD,wRAAC;4BACC,WAAU;4BACV,SAAS;gCACP,OAAO;gCACP,QAAQ;4BACV;4BACA,MAAK;sCACN;;;;;;;;;;;yCAKH,wRAAC;oBAAI,WAAU;;sCACb,wRAAC;4BAAO,WAAU;4BAA2B,SAAS,IAAM,QAAQ;4BAAO,MAAK;sCAAS;;;;;;sCAGzF,wRAAC;4BAAO,WAAU;4BAA2B,SAAS,IAAM,SAAS,EAAE,WAAW;4BAAG,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAQ/G"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,0JACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}