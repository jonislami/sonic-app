{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  globalThis.prisma ??\r\n  new PrismaClient({\r\n    log: [\"error\", \"warn\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAOO,MAAM,SACX,WAAW,MAAM,IACjB,IAAI,gPAAY,CAAC;IACf,KAAK;QAAC;QAAS;KAAO;AACxB;AAEF,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/app/api/furnizues/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/prisma\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET() {\r\n  try {\r\n    const rows = await prisma.furnizues.findMany({\r\n      orderBy: { furnizuesId: \"desc\" },\r\n    });\r\n\r\n    const data = rows.map((r) => ({\r\n      furnizuesId: r.furnizuesId.toString(),\r\n      emri: r.emri,\r\n      telefoni: r.telefoni ?? \"\",\r\n      email: r.email ?? \"\",\r\n      adresa: r.adresa ?? \"\",\r\n    }));\r\n\r\n    return NextResponse.json(data);\r\n  } catch (e: any) {\r\n    console.error(\"GET /api/furnizues error:\", e);\r\n    return NextResponse.json(\r\n      { error: \"Gabim gjatë marrjes së furnizuesve\", detail: String(e?.message ?? e) },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json().catch(() => ({}));\r\n\r\n    const emri = String(body?.emri ?? \"\").trim();\r\n    const telefoni = String(body?.telefoni ?? \"\").trim();\r\n    const email = String(body?.email ?? \"\").trim();\r\n    const adresa = String(body?.adresa ?? \"\").trim();\r\n\r\n    if (!emri) {\r\n      return NextResponse.json({ error: \"Emri është i detyrueshëm\" }, { status: 400 });\r\n    }\r\n\r\n    const row = await prisma.furnizues.create({\r\n      data: {\r\n        emri,\r\n        telefoni: telefoni || null,\r\n        email: email || null,\r\n        adresa: adresa || null,\r\n      },\r\n    });\r\n\r\n    return NextResponse.json({\r\n      ok: true,\r\n      furnizuesId: row.furnizuesId.toString(),\r\n    });\r\n  } catch (e: any) {\r\n    console.error(\"POST /api/furnizues error:\", e);\r\n    return NextResponse.json(\r\n      { error: \"Gabim gjatë krijimit të furnizuesit\", detail: String(e?.message ?? e) },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,0KAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;YAC3C,SAAS;gBAAE,aAAa;YAAO;QACjC;QAEA,MAAM,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;gBAC5B,aAAa,EAAE,WAAW,CAAC,QAAQ;gBACnC,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,QAAQ,IAAI;gBACxB,OAAO,EAAE,KAAK,IAAI;gBAClB,QAAQ,EAAE,MAAM,IAAI;YACtB,CAAC;QAED,OAAO,0LAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,0LAAY,CAAC,IAAI,CACtB;YAAE,OAAO;YAAsC,QAAQ,OAAO,GAAG,WAAW;QAAG,GAC/E;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAE7C,MAAM,OAAO,OAAO,MAAM,QAAQ,IAAI,IAAI;QAC1C,MAAM,WAAW,OAAO,MAAM,YAAY,IAAI,IAAI;QAClD,MAAM,QAAQ,OAAO,MAAM,SAAS,IAAI,IAAI;QAC5C,MAAM,SAAS,OAAO,MAAM,UAAU,IAAI,IAAI;QAE9C,IAAI,CAAC,MAAM;YACT,OAAO,0LAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA2B,GAAG;gBAAE,QAAQ;YAAI;QAChF;QAEA,MAAM,MAAM,MAAM,0KAAM,CAAC,SAAS,CAAC,MAAM,CAAC;YACxC,MAAM;gBACJ;gBACA,UAAU,YAAY;gBACtB,OAAO,SAAS;gBAChB,QAAQ,UAAU;YACpB;QACF;QAEA,OAAO,0LAAY,CAAC,IAAI,CAAC;YACvB,IAAI;YACJ,aAAa,IAAI,WAAW,CAAC,QAAQ;QACvC;IACF,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,0LAAY,CAAC,IAAI,CACtB;YAAE,OAAO;YAAuC,QAAQ,OAAO,GAAG,WAAW;QAAG,GAChF;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}