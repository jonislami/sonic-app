{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  globalThis.prisma ??\r\n  new PrismaClient({\r\n    log: [\"error\", \"warn\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAOO,MAAM,SACX,WAAW,MAAM,IACjB,IAAI,gPAAY,CAAC;IACf,KAAK;QAAC;QAAS;KAAO;AACxB;AAEF,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonis/OneDrive/Desktop/sonic-garage/src/app/api/inspekt-kategori/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/prisma\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET() {\r\n  try {\r\n    const rows = await prisma.inspektimKategori.findMany({\r\n      orderBy: [{ renditja: \"asc\" }, { emri: \"asc\" }],\r\n    });\r\n\r\n    return NextResponse.json(\r\n      rows.map((k) => ({\r\n        kategoriId: k.kategoriId.toString(),\r\n        emri: k.emri,\r\n        pershkrimi: k.pershkrimi ?? null,\r\n        renditja: k.renditja,\r\n        aktiv: k.aktiv,\r\n      }))\r\n    );\r\n  } catch (e: any) {\r\n    console.error(\"GET /api/inspekt-kategori error:\", e);\r\n    return NextResponse.json({ error: \"Gabim\" }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json().catch(() => ({}));\r\n    const emri = String(body?.emri ?? \"\").trim();\r\n    if (!emri) return NextResponse.json({ error: \"Emri është i detyrueshëm\" }, { status: 400 });\r\n\r\n    const row = await prisma.inspektimKategori.create({\r\n      data: {\r\n        emri,\r\n        pershkrimi: body?.pershkrimi ? String(body.pershkrimi).trim() : null,\r\n        renditja: Number(body?.renditja ?? 0),\r\n        aktiv: body?.aktiv !== false,\r\n      },\r\n    });\r\n\r\n    return NextResponse.json({ ok: true, kategoriId: row.kategoriId.toString() });\r\n  } catch (e: any) {\r\n    console.error(\"POST /api/inspekt-kategori error:\", e);\r\n    return NextResponse.json({ error: \"Gabim\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,0KAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC;YACnD,SAAS;gBAAC;oBAAE,UAAU;gBAAM;gBAAG;oBAAE,MAAM;gBAAM;aAAE;QACjD;QAEA,OAAO,0LAAY,CAAC,IAAI,CACtB,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;gBACf,YAAY,EAAE,UAAU,CAAC,QAAQ;gBACjC,MAAM,EAAE,IAAI;gBACZ,YAAY,EAAE,UAAU,IAAI;gBAC5B,UAAU,EAAE,QAAQ;gBACpB,OAAO,EAAE,KAAK;YAChB,CAAC;IAEL,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,0LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC7D;AACF;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC7C,MAAM,OAAO,OAAO,MAAM,QAAQ,IAAI,IAAI;QAC1C,IAAI,CAAC,MAAM,OAAO,0LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;QAEzF,MAAM,MAAM,MAAM,0KAAM,CAAC,iBAAiB,CAAC,MAAM,CAAC;YAChD,MAAM;gBACJ;gBACA,YAAY,MAAM,aAAa,OAAO,KAAK,UAAU,EAAE,IAAI,KAAK;gBAChE,UAAU,OAAO,MAAM,YAAY;gBACnC,OAAO,MAAM,UAAU;YACzB;QACF;QAEA,OAAO,0LAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM,YAAY,IAAI,UAAU,CAAC,QAAQ;QAAG;IAC7E,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,0LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC7D;AACF"}}]
}